{"version":3,"sources":["components/Core.bs.js","components/Tile.bs.js","components/Grid.bs.js","lib/Game.bs.js","lib/Model.bs.js","lib/Config.bs.js","lib/Util.bs.js","components/Controls.bs.js","components/SavedGrids.bs.js","components/App.bs.js","Index.bs.js"],"names":["styles","CssJs","NAME","VAL","Root","props","stylesObject","className","newProps","Object","assign","React","styles$1","Card","styles$2","Header","styles$3","Wrapper","Core$Icon","Props","name","Icon","Core$Button","label","background","onClick","disabledOpt","disabled","children","undefined","bg","Button","ToggleButton","isToggled","BoardSizeInput","onChange","value","frameRate","inputWrapperCx","labelCx","inputCx","type","String","param","make","make$1","isAlive","onToggle","handleMouseEvent","callback","e","nativeEvent","which","Curry","onMouseDown","onMouseOver","data","renderTile","y","x","cellState","key","Tile$MyRescriptApp","renderRow","row","Belt_Array","safeIndex","i","length","safePoint","mapGrid","fn","grid","tile","makeBlankGrid","size$prime","makeRandomGrid","size","seed","Random","param$1","param$2","offset","hd","tl","getNeighbours","Belt_List","y$prime","x$prime","p","Caml_obj","point","match","Caml_array","getTile","nextState","neighbours","c","countLivingNeighbours","initialState","Game$MyRescriptApp","Date","now","boardSize","isPlaying","ticks","animationFrameId","contents","startedAt","savedGrids","self","action","state","TAG","grid$prime","prim","slice","_0","_state","Js_math","Reducers","onReset","onRandom","onTick","onToggleAutoplay","onSaveGrid","Core$MyRescriptApp","role","grids","renderGridButton","index","_grid","Model$MyRescriptApp","dispatch","match$1","handleToggleTile","handleReset","handleRandom","handleTick","handleSaveGrid","handleLoadGrid","handleChangeBoardSize","$$event","intVal","Caml_format","currentTarget","handleToggleAutoPlay","cancelAnimationFrame","play","requestAnimationFrame","Controls$MyRescriptApp","SavedGrids$MyRescriptApp","Grid$MyRescriptApp","fallback","app","App$MyRescriptApp","root","document","querySelector","ReactDom"],"mappings":"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","file":"static/js/main.20301e60.chunk.js","sourcesContent":["\n\nimport * as CssJs from \"bs-css-emotion/src/CssJs.bs.js\";\nimport * as React from \"react\";\n\nvar styles = CssJs.style([\n      CssJs.label(\"Root\"),\n      CssJs.width({\n            NAME: \"vw\",\n            VAL: 100\n          }),\n      CssJs.height({\n            NAME: \"vh\",\n            VAL: 100\n          }),\n      CssJs.display(\"flex\"),\n      CssJs.flexDirection(\"column\"),\n      CssJs.unsafe(\"alignItems\", \"center\")\n    ]);\n\nfunction make(props) {\n  var stylesObject = {\n    className: styles\n  };\n  var newProps = Object.assign(stylesObject, props);\n  return React.createElement(\"div\", newProps);\n}\n\nvar Root = {\n  styles: styles,\n  make: make\n};\n\nvar styles$1 = CssJs.style([\n      CssJs.label(\"Card\"),\n      CssJs.display(\"flex\"),\n      CssJs.flexDirection(\"column\"),\n      CssJs.width({\n            NAME: \"rem\",\n            VAL: 26\n          })\n    ]);\n\nfunction make$1(props) {\n  var stylesObject = {\n    className: styles$1\n  };\n  var newProps = Object.assign(stylesObject, props);\n  return React.createElement(\"div\", newProps);\n}\n\nvar Card = {\n  styles: styles$1,\n  make: make$1\n};\n\nvar styles$2 = CssJs.style([\n      CssJs.label(\"Header\"),\n      CssJs.textAlign(\"center\"),\n      CssJs.padding2({\n            NAME: \"rem\",\n            VAL: 2\n          }, \"zero\"),\n      CssJs.unsafe(\"fontWeight\", \"bold\")\n    ]);\n\nfunction make$2(props) {\n  var stylesObject = {\n    className: styles$2\n  };\n  var newProps = Object.assign(stylesObject, props);\n  return React.createElement(\"div\", newProps);\n}\n\nvar Header = {\n  styles: styles$2,\n  make: make$2\n};\n\nvar styles$3 = CssJs.style([\n      CssJs.label(\"Wrapper\"),\n      CssJs.display(\"flex\"),\n      CssJs.unsafe(\"alignItems\", \"center\"),\n      CssJs.flexWrap(\"wrap\")\n    ]);\n\nfunction make$3(props) {\n  var stylesObject = {\n    className: styles$3\n  };\n  var newProps = Object.assign(stylesObject, props);\n  return React.createElement(\"div\", newProps);\n}\n\nvar Wrapper = {\n  styles: styles$3,\n  make: make$3\n};\n\nfunction Core$Icon(Props) {\n  var name = Props.name;\n  return React.createElement(\"i\", {\n              className: \"fas fa-\" + name\n            });\n}\n\nvar Icon = {\n  make: Core$Icon\n};\n\nfunction Core$Button(Props) {\n  var label = Props.label;\n  var background = Props.background;\n  var onClick = Props.onClick;\n  var disabledOpt = Props.disabled;\n  var children = Props.children;\n  var disabled = disabledOpt !== undefined ? disabledOpt : false;\n  var bg = disabled ? ({\n        NAME: \"hex\",\n        VAL: \"0E9D8A6\"\n      }) : background;\n  var className = CssJs.style([\n        CssJs.unsafe(\"fontSize\", \"0.9rem\"),\n        CssJs.padding({\n              NAME: \"rem\",\n              VAL: 0.5\n            }),\n        CssJs.backgroundColor(bg),\n        CssJs.width({\n              NAME: \"rem\",\n              VAL: 3\n            }),\n        CssJs.height({\n              NAME: \"rem\",\n              VAL: 3\n            }),\n        CssJs.color(CssJs.white),\n        CssJs.unsafe(\"borderRadius\", \"25%\"),\n        CssJs.margin({\n              NAME: \"rem\",\n              VAL: 0.5\n            }),\n        CssJs.borderWidth(\"zero\"),\n        CssJs.unsafe(\"userSelect\", \"none\"),\n        CssJs.unsafe(\"outline\", \"0rem none white\"),\n        CssJs.unsafe(\"fontWeight\", \"700\"),\n        CssJs.unsafe(\"cursor\", \"pointer\"),\n        CssJs.transition(undefined, undefined, undefined, \"all .15s ease-in\")\n      ]);\n  return React.createElement(\"button\", {\n              \"aria-label\": label,\n              className: className,\n              disabled: disabled,\n              onClick: onClick\n            }, children);\n}\n\nvar Button = {\n  make: Core$Button\n};\n\nfunction Core$ToggleButton(Props) {\n  var isToggled = Props.isToggled;\n  var onClick = Props.onClick;\n  var label = Props.label;\n  var disabledOpt = Props.disabled;\n  var disabled = disabledOpt !== undefined ? disabledOpt : false;\n  var background = isToggled ? ({\n        NAME: \"hex\",\n        VAL: \"666\"\n      }) : ({\n        NAME: \"hex\",\n        VAL: \"7A8288\"\n      });\n  var name = isToggled ? \"pause\" : \"play\";\n  return React.createElement(Core$Button, {\n              label: label,\n              background: background,\n              onClick: onClick,\n              disabled: disabled,\n              children: React.createElement(Core$Icon, {\n                    name: name\n                  })\n            });\n}\n\nvar ToggleButton = {\n  make: Core$ToggleButton\n};\n\nfunction Core$BoardSizeInput(Props) {\n  var onChange = Props.onChange;\n  var value = Props.value;\n  var frameRate = Props.frameRate;\n  var inputWrapperCx = CssJs.style([\n        CssJs.display(\"flex\"),\n        CssJs.unsafe(\"alignItems\", \"center\"),\n        CssJs.unsafe(\"justifyContent\", \"space-between\")\n      ]);\n  var labelCx = CssJs.style([\n        CssJs.unsafe(\"fontWeight\", \"bold\"),\n        CssJs.padding2(\"zero\", {\n              NAME: \"rem\",\n              VAL: 0.5\n            })\n      ]);\n  var inputCx = CssJs.style([\n        CssJs.border({\n              NAME: \"rem\",\n              VAL: 0.2\n            }, \"solid\", {\n              NAME: \"hex\",\n              VAL: \"222\"\n            }),\n        CssJs.unsafe(\"borderRadius\", \"0.2rem\"),\n        CssJs.width({\n              NAME: \"rem\",\n              VAL: 2\n            }),\n        CssJs.height({\n              NAME: \"rem\",\n              VAL: 1\n            }),\n        CssJs.textAlign(\"center\"),\n        CssJs.margin2(\"zero\", {\n              NAME: \"rem\",\n              VAL: 0.5\n            })\n      ]);\n  return React.createElement(\"div\", {\n              className: inputWrapperCx\n            }, React.createElement(\"p\", {\n                  className: labelCx\n                }, \"Board size\", React.createElement(\"input\", {\n                      className: inputCx,\n                      type: \"number\",\n                      value: value,\n                      onChange: onChange\n                    })), React.createElement(\"p\", {\n                  className: labelCx\n                }, \"Frame rate: \" + String(frameRate) + \" fps\"));\n}\n\nvar BoardSizeInput = {\n  make: Core$BoardSizeInput\n};\n\nexport {\n  Root ,\n  Card ,\n  Header ,\n  Wrapper ,\n  Icon ,\n  Button ,\n  ToggleButton ,\n  BoardSizeInput ,\n  \n}\n/* styles Not a pure module */\n","\n\nimport * as CssJs from \"bs-css-emotion/src/CssJs.bs.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\n\nfunction styles(background, param) {\n  return CssJs.style([\n              CssJs.label(\"Wrapper\"),\n              CssJs.width({\n                    NAME: \"pxFloat\",\n                    VAL: 10\n                  }),\n              CssJs.height({\n                    NAME: \"pxFloat\",\n                    VAL: 10\n                  }),\n              CssJs.background(background),\n              CssJs.unsafe(\"borderRadius\", \"40%\"),\n              CssJs.margin2({\n                    NAME: \"pxFloat\",\n                    VAL: 2\n                  }, {\n                    NAME: \"pxFloat\",\n                    VAL: 1\n                  }),\n              CssJs.padding(\"zero\"),\n              CssJs.unsafe(\"transitionProperty\", \"\\\"all\\\"\"),\n              CssJs.unsafe(\"transitionDuration\", \".1s\"),\n              CssJs.unsafe(\"transitionTimingFunction\", \"ease-in-out\"),\n              CssJs.unsafe(\"cursor\", \"pointer\")\n            ]);\n}\n\nfunction make(props) {\n  var stylesObject = {\n    className: styles(props.background, undefined)\n  };\n  var newProps = Object.assign(stylesObject, props);\n  return React.createElement(\"div\", newProps);\n}\n\nvar Wrapper = {\n  styles: styles,\n  make: make\n};\n\nfunction Tile(Props) {\n  var isAlive = Props.isAlive;\n  var onToggle = Props.onToggle;\n  var background = isAlive ? ({\n        NAME: \"hex\",\n        VAL: \"272B30\"\n      }) : ({\n        NAME: \"hex\",\n        VAL: \"FFF\"\n      });\n  var handleMouseEvent = React.useCallback((function (callback) {\n          return function (e) {\n            if (e.nativeEvent.which === 1) {\n              return Curry._1(callback, undefined);\n            }\n            \n          };\n        }), []);\n  return React.createElement(make, {\n              onMouseDown: Curry._1(handleMouseEvent, onToggle),\n              onMouseOver: Curry._1(handleMouseEvent, onToggle),\n              background: background\n            });\n}\n\nvar make$1 = Tile;\n\nexport {\n  Wrapper ,\n  make$1 as make,\n  \n}\n/* CssJs Not a pure module */\n","\n\nimport * as CssJs from \"bs-css-emotion/src/CssJs.bs.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Tile$MyRescriptApp from \"./Tile.bs.js\";\n\nvar styles = CssJs.style([\n      CssJs.label(\"Wrapper\"),\n      CssJs.display(\"flex\"),\n      CssJs.border({\n            NAME: \"rem\",\n            VAL: 0.25\n          }, \"solid\", {\n            NAME: \"hex\",\n            VAL: \"222\"\n          }),\n      CssJs.unsafe(\"borderRadius\", \"0.75rem\"),\n      CssJs.padding({\n            NAME: \"rem\",\n            VAL: 0.125\n          })\n    ]);\n\nfunction make(props) {\n  var stylesObject = {\n    className: styles\n  };\n  var newProps = Object.assign(stylesObject, props);\n  return React.createElement(\"div\", newProps);\n}\n\nvar Wrapper = {\n  styles: styles,\n  make: make\n};\n\nfunction Grid(Props) {\n  var data = Props.data;\n  var onToggle = Props.onToggle;\n  var renderTile = React.useCallback((function (y) {\n          return function (x, cellState) {\n            var key = \"\" + x + \"-\" + y;\n            return React.createElement(Tile$MyRescriptApp.make, {\n                        isAlive: cellState === /* Alive */1,\n                        onToggle: (function (param) {\n                            return Curry._2(onToggle, y, x);\n                          }),\n                        key: key\n                      });\n          };\n        }), []);\n  var renderRow = React.useCallback((function (y) {\n          return function (row) {\n            return React.createElement(\"div\", {\n                        key: String(y)\n                      }, Belt_Array.mapWithIndex(row, Curry._1(renderTile, y)));\n          };\n        }), []);\n  return React.createElement(make, {\n              children: Belt_Array.mapWithIndex(data, renderRow)\n            });\n}\n\nvar R;\n\nvar A;\n\nvar make$1 = Grid;\n\nexport {\n  R ,\n  A ,\n  Wrapper ,\n  make$1 as make,\n  \n}\n/* styles Not a pure module */\n","\n\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as Random from \"bs-platform/lib/es6/random.js\";\nimport * as Caml_obj from \"bs-platform/lib/es6/caml_obj.js\";\nimport * as Belt_List from \"bs-platform/lib/es6/belt_List.js\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Caml_array from \"bs-platform/lib/es6/caml_array.js\";\n\nfunction safeIndex(x) {\n  var i = x[1];\n  var length = x[0];\n  if (i < 0) {\n    return length - 1 | 0;\n  } else if (i === length) {\n    return 0;\n  } else {\n    return i;\n  }\n}\n\nfunction safePoint(param, length) {\n  return [\n          safeIndex([\n                length,\n                param[0]\n              ]),\n          safeIndex([\n                length,\n                param[1]\n              ])\n        ];\n}\n\nfunction mapGrid(fn, grid) {\n  return Belt_Array.mapWithIndex(grid, (function (y, row) {\n                return Belt_Array.mapWithIndex(row, (function (x, tile) {\n                              return Curry._3(fn, [\n                                          y,\n                                          x\n                                        ], tile, grid);\n                            }));\n              }));\n}\n\nfunction makeBlankGrid(size$prime) {\n  return Belt_Array.make(size$prime, Belt_Array.make(size$prime, /* Dead */0));\n}\n\nfunction makeRandomGrid(size, seed) {\n  Random.init(seed);\n  return mapGrid((function (param, param$1, param$2) {\n                if (Random.$$int(10) > 7) {\n                  return /* Alive */1;\n                } else {\n                  return /* Dead */0;\n                }\n              }), makeBlankGrid(size));\n}\n\nfunction getTile(grid, point) {\n  var match = safePoint(point, grid.length);\n  return Caml_array.get(Caml_array.get(grid, match[0]), match[1]);\n}\n\nvar offset = {\n  hd: -1,\n  tl: {\n    hd: 0,\n    tl: {\n      hd: 1,\n      tl: /* [] */0\n    }\n  }\n};\n\nfunction getNeighbours(grid, param) {\n  var x = param[1];\n  var y = param[0];\n  return Belt_List.map(Belt_List.keep(Belt_List.flatten(Belt_List.map(offset, (function (y$prime) {\n                            return Belt_List.map(offset, (function (x$prime) {\n                                          return [\n                                                  y + y$prime | 0,\n                                                  x + x$prime | 0\n                                                ];\n                                        }));\n                          }))), (function (p) {\n                    return Caml_obj.caml_notequal(p, [\n                                y,\n                                x\n                              ]);\n                  })), (function (param) {\n                return getTile(grid, param);\n              }));\n}\n\nfunction countLivingNeighbours(grid, point) {\n  return Belt_List.length(Belt_List.keep(getNeighbours(grid, point), (function (c) {\n                    return c === /* Alive */1;\n                  })));\n}\n\nfunction nextState(point, cellState, grid) {\n  var neighbours = countLivingNeighbours(grid, point);\n  if (cellState) {\n    if (neighbours === 3 || neighbours === 2) {\n      return /* Alive */1;\n    } else {\n      return /* Dead */0;\n    }\n  } else if (neighbours !== 3) {\n    return /* Dead */0;\n  } else {\n    return /* Alive */1;\n  }\n}\n\nfunction nextGeneration(param) {\n  return mapGrid(nextState, param);\n}\n\nfunction toggleTile(grid, point) {\n  var grid$prime = Belt_Array.map(grid, (function (prim) {\n          return prim.slice(0);\n        }));\n  var match = safePoint(point, grid.length);\n  var x = match[1];\n  var y = match[0];\n  var tile = Caml_array.get(Caml_array.get(grid$prime, y), x);\n  Caml_array.set(Caml_array.get(grid$prime, y), x, tile ? /* Dead */0 : /* Alive */1);\n  return grid$prime;\n}\n\nvar L;\n\nvar A;\n\nexport {\n  L ,\n  A ,\n  safeIndex ,\n  safePoint ,\n  mapGrid ,\n  makeBlankGrid ,\n  makeRandomGrid ,\n  getTile ,\n  offset ,\n  getNeighbours ,\n  countLivingNeighbours ,\n  nextState ,\n  nextGeneration ,\n  toggleTile ,\n  \n}\n/* No side effect */\n","\n\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Caml_array from \"bs-platform/lib/es6/caml_array.js\";\nimport * as Game$MyRescriptApp from \"./Game.bs.js\";\nimport * as Util$MyRescriptApp from \"./Util.bs.js\";\nimport * as Config$MyRescriptApp from \"./Config.bs.js\";\n\nfunction makeSeed(param) {\n  return Date.now() | 0;\n}\n\nvar initialState_grid = Game$MyRescriptApp.makeRandomGrid(Config$MyRescriptApp.boardSize, Date.now() | 0);\n\nvar initialState_animationFrameId = {\n  contents: 0\n};\n\nvar initialState_savedGrids = [];\n\nvar initialState = {\n  grid: initialState_grid,\n  boardSize: Config$MyRescriptApp.boardSize,\n  isPlaying: false,\n  ticks: 0,\n  animationFrameId: initialState_animationFrameId,\n  startedAt: undefined,\n  frameRate: 0,\n  savedGrids: initialState_savedGrids\n};\n\nfunction grid(self, action, state) {\n  if (typeof action === \"number\") {\n    switch (action) {\n      case /* Random */0 :\n          return Game$MyRescriptApp.makeRandomGrid(state.boardSize, Date.now() | 0);\n      case /* Reset */1 :\n          return Game$MyRescriptApp.makeBlankGrid(state.boardSize);\n      case /* Tick */4 :\n          return Game$MyRescriptApp.nextGeneration(self);\n      default:\n        return self;\n    }\n  } else {\n    switch (action.TAG | 0) {\n      case /* Toggle */0 :\n          return Game$MyRescriptApp.toggleTile(self, action._0);\n      case /* Load */2 :\n          return Caml_array.get(state.savedGrids, action._0);\n      case /* BoardSize */3 :\n          return Game$MyRescriptApp.makeBlankGrid(action._0);\n      default:\n        return self;\n    }\n  }\n}\n\nfunction boardSize(self, action, state) {\n  if (typeof action === \"number\") {\n    return self;\n  }\n  switch (action.TAG | 0) {\n    case /* Load */2 :\n        return Caml_array.get(state.savedGrids, action._0).length;\n    case /* BoardSize */3 :\n        return action._0;\n    default:\n      return self;\n  }\n}\n\nfunction savedGrids(self, action, _state) {\n  if (typeof action === \"number\" || action.TAG !== /* Save */1) {\n    return self;\n  } else {\n    return Belt_Array.concat(self, [action._0]);\n  }\n}\n\nfunction isPlaying(self, action, _state) {\n  if (typeof action !== \"number\") {\n    return self;\n  }\n  if (action < 2) {\n    return self;\n  }\n  switch (action - 2 | 0) {\n    case /* Random */0 :\n        return true;\n    case /* Reset */1 :\n        return false;\n    case /* Start */2 :\n        return self;\n    \n  }\n}\n\nfunction startedAt(self, action, _state) {\n  if (typeof action !== \"number\") {\n    return self;\n  }\n  if (action < 2) {\n    return self;\n  }\n  switch (action - 2 | 0) {\n    case /* Random */0 :\n        return Date.now();\n    case /* Reset */1 :\n        return ;\n    case /* Start */2 :\n        return self;\n    \n  }\n}\n\nfunction ticks(self, action, state) {\n  var match = state.isPlaying;\n  if (typeof action !== \"number\") {\n    return self;\n  }\n  switch (action) {\n    case /* Random */0 :\n    case /* Start */2 :\n        return self;\n    case /* Reset */1 :\n    case /* Stop */3 :\n        return 0;\n    case /* Tick */4 :\n        if (match) {\n          return self + 1 | 0;\n        } else {\n          return self;\n        }\n    \n  }\n}\n\nfunction frameRate(self, action, state) {\n  var match = state.startedAt;\n  if (typeof action === \"number\") {\n    if (action !== 3) {\n      if (action >= 4 && match !== undefined) {\n        return Util$MyRescriptApp.avgFrameRate(state.ticks, match);\n      } else {\n        return self;\n      }\n    } else {\n      return 0;\n    }\n  } else {\n    return self;\n  }\n}\n\nfunction root(state, action) {\n  return {\n          grid: grid(state.grid, action, state),\n          boardSize: boardSize(state.boardSize, action, state),\n          isPlaying: isPlaying(state.isPlaying, action, state),\n          ticks: ticks(state.ticks, action, state),\n          animationFrameId: state.animationFrameId,\n          startedAt: startedAt(state.startedAt, action, state),\n          frameRate: frameRate(state.frameRate, action, state),\n          savedGrids: savedGrids(state.savedGrids, action, state)\n        };\n}\n\nvar Reducers = {\n  grid: grid,\n  boardSize: boardSize,\n  savedGrids: savedGrids,\n  isPlaying: isPlaying,\n  startedAt: startedAt,\n  ticks: ticks,\n  frameRate: frameRate,\n  root: root\n};\n\nexport {\n  makeSeed ,\n  initialState ,\n  Reducers ,\n  \n}\n/* initialState Not a pure module */\n","\n\n\nvar boardSize = 32;\n\nvar tileSize = {\n  NAME: \"rem\",\n  VAL: 0.75\n};\n\nexport {\n  boardSize ,\n  tileSize ,\n  \n}\n/* No side effect */\n","\n\nimport * as Js_math from \"bs-platform/lib/es6/js_math.js\";\n\nfunction avgFrameRate(ticks, startedAt) {\n  return Js_math.ceil(ticks / ((Date.now() - startedAt) / 1000));\n}\n\nexport {\n  avgFrameRate ,\n  \n}\n/* No side effect */\n","\n\nimport * as React from \"react\";\nimport * as Core$MyRescriptApp from \"./Core.bs.js\";\n\nfunction Controls(Props) {\n  var isPlaying = Props.isPlaying;\n  var onReset = Props.onReset;\n  var onRandom = Props.onRandom;\n  var onTick = Props.onTick;\n  var onToggleAutoplay = Props.onToggleAutoplay;\n  var onSaveGrid = Props.onSaveGrid;\n  return React.createElement(Core$MyRescriptApp.Wrapper.make, {\n              children: React.createElement(\"div\", {\n                    role: \"group\"\n                  }, React.createElement(Core$MyRescriptApp.Button.make, {\n                        label: \"Reset grid\",\n                        background: {\n                          NAME: \"hex\",\n                          VAL: \"AE2012\"\n                        },\n                        onClick: onReset,\n                        children: React.createElement(Core$MyRescriptApp.Icon.make, {\n                              name: \"undo\"\n                            })\n                      }), React.createElement(Core$MyRescriptApp.Button.make, {\n                        label: \"Random grid\",\n                        background: {\n                          NAME: \"hex\",\n                          VAL: \"001219\"\n                        },\n                        onClick: onRandom,\n                        children: React.createElement(Core$MyRescriptApp.Icon.make, {\n                              name: \"random\"\n                            })\n                      }), React.createElement(Core$MyRescriptApp.Button.make, {\n                        label: \"Next state\",\n                        background: {\n                          NAME: \"hex\",\n                          VAL: \"005F73\"\n                        },\n                        onClick: onTick,\n                        disabled: isPlaying,\n                        children: React.createElement(Core$MyRescriptApp.Icon.make, {\n                              name: \"forward\"\n                            })\n                      }), React.createElement(Core$MyRescriptApp.ToggleButton.make, {\n                        isToggled: isPlaying,\n                        onClick: onToggleAutoplay,\n                        label: \"Toggle autpplay\"\n                      }), React.createElement(Core$MyRescriptApp.Button.make, {\n                        label: \"Save\",\n                        background: {\n                          NAME: \"hex\",\n                          VAL: \"0A9396\"\n                        },\n                        onClick: onSaveGrid,\n                        disabled: isPlaying,\n                        children: React.createElement(Core$MyRescriptApp.Icon.make, {\n                              name: \"save\"\n                            })\n                      }))\n            });\n}\n\nvar make = Controls;\n\nexport {\n  make ,\n  \n}\n/* react Not a pure module */\n","\n\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Core$MyRescriptApp from \"./Core.bs.js\";\n\nfunction SavedGrids(Props) {\n  var grids = Props.grids;\n  var onClick = Props.onClick;\n  var renderGridButton = React.useCallback((function (index) {\n          return function (_grid) {\n            return React.createElement(Core$MyRescriptApp.Button.make, {\n                        label: \"Save\",\n                        background: {\n                          NAME: \"hex\",\n                          VAL: \"94D2BD\"\n                        },\n                        onClick: (function (param) {\n                            return Curry._1(onClick, index);\n                          }),\n                        children: React.createElement(\"span\", undefined, String(index + 1 | 0)),\n                        key: String(index)\n                      });\n          };\n        }), []);\n  return React.createElement(Core$MyRescriptApp.Wrapper.make, {\n              children: Belt_Array.mapWithIndex(grids, renderGridButton)\n            });\n}\n\nvar make = SavedGrids;\n\nexport {\n  make ,\n  \n}\n/* react Not a pure module */\n","\n\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Caml_format from \"bs-platform/lib/es6/caml_format.js\";\nimport * as Core$MyRescriptApp from \"./Core.bs.js\";\nimport * as Grid$MyRescriptApp from \"./Grid.bs.js\";\nimport * as Model$MyRescriptApp from \"../lib/Model.bs.js\";\nimport * as Config$MyRescriptApp from \"../lib/Config.bs.js\";\nimport * as Controls$MyRescriptApp from \"./Controls.bs.js\";\nimport * as SavedGrids$MyRescriptApp from \"./SavedGrids.bs.js\";\n\nfunction App(Props) {\n  var match = React.useReducer(Model$MyRescriptApp.Reducers.root, Model$MyRescriptApp.initialState);\n  var dispatch = match[1];\n  var match$1 = match[0];\n  var animationFrameId = match$1.animationFrameId;\n  var isPlaying = match$1.isPlaying;\n  var grid = match$1.grid;\n  var handleToggleTile = React.useCallback((function (y) {\n          return function (x) {\n            return Curry._1(dispatch, {\n                        TAG: /* Toggle */0,\n                        _0: [\n                          y,\n                          x\n                        ]\n                      });\n          };\n        }), []);\n  var handleReset = React.useCallback((function (param) {\n          return Curry._1(dispatch, /* Reset */1);\n        }), []);\n  var handleRandom = React.useCallback((function (param) {\n          return Curry._1(dispatch, /* Random */0);\n        }), []);\n  var handleTick = React.useCallback((function (param) {\n          return Curry._1(dispatch, /* Tick */4);\n        }), []);\n  var handleSaveGrid = React.useCallback((function (param) {\n          return Curry._1(dispatch, {\n                      TAG: /* Save */1,\n                      _0: grid\n                    });\n        }), [grid]);\n  var handleLoadGrid = React.useCallback((function (key) {\n          return Curry._1(dispatch, {\n                      TAG: /* Load */2,\n                      _0: key\n                    });\n        }), []);\n  var handleChangeBoardSize = React.useCallback((function ($$event) {\n          var intVal = Caml_format.caml_int_of_string($$event.currentTarget.value);\n          if (intVal > Config$MyRescriptApp.boardSize) {\n            return Curry._1(dispatch, {\n                        TAG: /* BoardSize */3,\n                        _0: Config$MyRescriptApp.boardSize\n                      });\n          } else {\n            return Curry._1(dispatch, {\n                        TAG: /* BoardSize */3,\n                        _0: intVal\n                      });\n          }\n        }), []);\n  var handleToggleAutoPlay = React.useCallback((function (param) {\n          var play = function (param) {\n            animationFrameId.contents = requestAnimationFrame(play);\n            return Curry._1(dispatch, /* Tick */4);\n          };\n          if (isPlaying) {\n            cancelAnimationFrame(animationFrameId.contents);\n            return Curry._1(dispatch, /* Stop */3);\n          } else {\n            play(undefined);\n            return Curry._1(dispatch, /* Start */2);\n          }\n        }), [\n        animationFrameId,\n        isPlaying\n      ]);\n  return React.createElement(Core$MyRescriptApp.Root.make, {\n              children: null\n            }, React.createElement(Core$MyRescriptApp.Card.make, {\n                  children: null\n                }, React.createElement(Core$MyRescriptApp.Header.make, {\n                      children: \"Conway's Game of Life\"\n                    }), React.createElement(Core$MyRescriptApp.BoardSizeInput.make, {\n                      onChange: handleChangeBoardSize,\n                      value: String(match$1.boardSize),\n                      frameRate: match$1.frameRate\n                    }), React.createElement(Controls$MyRescriptApp.make, {\n                      isPlaying: isPlaying,\n                      onReset: handleReset,\n                      onRandom: handleRandom,\n                      onTick: handleTick,\n                      onToggleAutoplay: handleToggleAutoPlay,\n                      onSaveGrid: handleSaveGrid\n                    }), React.createElement(SavedGrids$MyRescriptApp.make, {\n                      grids: match$1.savedGrids,\n                      onClick: handleLoadGrid\n                    })), React.createElement(Grid$MyRescriptApp.make, {\n                  data: grid,\n                  onToggle: handleToggleTile\n                }));\n}\n\nvar R;\n\nvar make = App;\n\nexport {\n  R ,\n  make ,\n  \n}\n/* react Not a pure module */\n","\n\nimport * as React from \"react\";\nimport * as ReactDom from \"react-dom\";\nimport * as App$MyRescriptApp from \"./components/App.bs.js\";\n\nimport './Index.css';\n;\n\nvar fallback = React.createElement(\"div\", undefined, \"...\");\n\nvar app = React.createElement(React.Suspense, {\n      children: React.createElement(App$MyRescriptApp.make, {\n            key: \"app\"\n          }),\n      fallback: fallback\n    });\n\nvar root = document.querySelector(\"#root\");\n\nif (!(root == null)) {\n  ReactDom.render(app, root);\n}\n\nexport {\n  fallback ,\n  app ,\n  \n}\n/*  Not a pure module */\n"],"sourceRoot":""}