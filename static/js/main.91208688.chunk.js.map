{"version":3,"sources":["components/Core.bs.js","components/Tile.bs.js","components/Grid.bs.js","lib/Game.bs.js","lib/Model.bs.js","lib/Config.bs.js","lib/Util.bs.js","components/Controls.bs.js","components/SavedGrids.bs.js","components/App.bs.js","Index.bs.js"],"names":["styles","CssJs","NAME","VAL","Root","props","stylesObject","className","newProps","Object","assign","React","styles$1","Header","styles$2","Wrapper","Core$Icon","Props","name","Icon","Core$Button","label","background","onClick","disabledOpt","disabled","children","undefined","bg","Button","ToggleButton","isToggled","param","make","make$1","isAlive","onToggle","handleMouseEvent","callback","e","nativeEvent","which","Curry","onMouseDown","onMouseOver","data","renderTile","y","x","cellState","key","Tile$MyRescriptApp","renderRow","row","String","Belt_Array","safeIndex","i","length","safePoint","mapGrid","fn","grid","tile","makeBlankGrid","size$prime","makeRandomGrid","size","seed","Random","param$1","param$2","offset","hd","tl","getNeighbours","Belt_List","y$prime","x$prime","p","Caml_obj","point","match","Caml_array","getTile","nextState","neighbours","c","countLivingNeighbours","initialState","Game$MyRescriptApp","Date","now","isPlaying","ticks","animationFrameId","contents","startedAt","frameRate","savedGrids","self","action","state","TAG","grid$prime","prim","slice","_0","_state","Js_math","Reducers","onReset","onRandom","onTick","onToggleAutoplay","onSaveGrid","Core$MyRescriptApp","role","grids","renderGridButton","index","_grid","Model$MyRescriptApp","dispatch","handleToggleTile","handleReset","handleRandom","handleTick","handleSaveGrid","handleLoadGrid","handleToggleAutoPlay","cancelAnimationFrame","play","requestAnimationFrame","Controls$MyRescriptApp","Grid$MyRescriptApp","SavedGrids$MyRescriptApp","fallback","app","App$MyRescriptApp","root","document","querySelector","ReactDom"],"mappings":"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","file":"static/js/main.91208688.chunk.js","sourcesContent":["\n\nimport * as CssJs from \"bs-css-emotion/src/CssJs.bs.js\";\nimport * as React from \"react\";\n\nvar styles = CssJs.style([\n      CssJs.label(\"Root\"),\n      CssJs.display(\"flex\"),\n      CssJs.flexDirection(\"column\"),\n      CssJs.unsafe(\"alignItems\", \"center\"),\n      CssJs.width({\n            NAME: \"vw\",\n            VAL: 100\n          }),\n      CssJs.height({\n            NAME: \"vh\",\n            VAL: 100\n          })\n    ]);\n\nfunction make(props) {\n  var stylesObject = {\n    className: styles\n  };\n  var newProps = Object.assign(stylesObject, props);\n  return React.createElement(\"div\", newProps);\n}\n\nvar Root = {\n  styles: styles,\n  make: make\n};\n\nvar styles$1 = CssJs.style([\n      CssJs.label(\"Header\"),\n      CssJs.display(\"flex\"),\n      CssJs.unsafe(\"justifyContent\", \"center\"),\n      CssJs.unsafe(\"alignItems\", \"center\"),\n      CssJs.paddingTop({\n            NAME: \"rem\",\n            VAL: 2\n          }),\n      CssJs.unsafe(\"fontWeight\", \"bold\")\n    ]);\n\nfunction make$1(props) {\n  var stylesObject = {\n    className: styles$1\n  };\n  var newProps = Object.assign(stylesObject, props);\n  return React.createElement(\"div\", newProps);\n}\n\nvar Header = {\n  styles: styles$1,\n  make: make$1\n};\n\nvar styles$2 = CssJs.style([\n      CssJs.label(\"Wrapper\"),\n      CssJs.display(\"flex\"),\n      CssJs.unsafe(\"justifyContent\", \"center\"),\n      CssJs.unsafe(\"alignItems\", \"center\"),\n      CssJs.flexWrap(\"wrap\"),\n      CssJs.maxWidth({\n            NAME: \"rem\",\n            VAL: 20\n          }),\n      CssJs.padding2({\n            NAME: \"rem\",\n            VAL: 2\n          }, \"zero\")\n    ]);\n\nfunction make$2(props) {\n  var stylesObject = {\n    className: styles$2\n  };\n  var newProps = Object.assign(stylesObject, props);\n  return React.createElement(\"div\", newProps);\n}\n\nvar Wrapper = {\n  styles: styles$2,\n  make: make$2\n};\n\nfunction Core$Icon(Props) {\n  var name = Props.name;\n  return React.createElement(\"i\", {\n              className: \"fas fa-\" + name\n            });\n}\n\nvar Icon = {\n  make: Core$Icon\n};\n\nfunction Core$Button(Props) {\n  var label = Props.label;\n  var background = Props.background;\n  var onClick = Props.onClick;\n  var disabledOpt = Props.disabled;\n  var children = Props.children;\n  var disabled = disabledOpt !== undefined ? disabledOpt : false;\n  var bg = disabled ? ({\n        NAME: \"hex\",\n        VAL: \"0E9D8A6\"\n      }) : background;\n  var className = CssJs.style([\n        CssJs.unsafe(\"fontSize\", \"0.9rem\"),\n        CssJs.padding({\n              NAME: \"rem\",\n              VAL: 0.5\n            }),\n        CssJs.backgroundColor(bg),\n        CssJs.width({\n              NAME: \"rem\",\n              VAL: 3\n            }),\n        CssJs.height({\n              NAME: \"rem\",\n              VAL: 3\n            }),\n        CssJs.color(CssJs.white),\n        CssJs.unsafe(\"borderRadius\", \"25%\"),\n        CssJs.margin({\n              NAME: \"rem\",\n              VAL: 0.5\n            }),\n        CssJs.borderWidth(\"zero\"),\n        CssJs.unsafe(\"userSelect\", \"none\"),\n        CssJs.unsafe(\"outline\", \"0rem none white\"),\n        CssJs.unsafe(\"fontWeight\", \"700\"),\n        CssJs.unsafe(\"cursor\", \"pointer\"),\n        CssJs.transition(undefined, undefined, undefined, \"all .15s ease-in\")\n      ]);\n  return React.createElement(\"button\", {\n              \"aria-label\": label,\n              className: className,\n              disabled: disabled,\n              onClick: onClick\n            }, children);\n}\n\nvar Button = {\n  make: Core$Button\n};\n\nfunction Core$ToggleButton(Props) {\n  var isToggled = Props.isToggled;\n  var onClick = Props.onClick;\n  var label = Props.label;\n  var disabledOpt = Props.disabled;\n  var disabled = disabledOpt !== undefined ? disabledOpt : false;\n  var background = isToggled ? ({\n        NAME: \"hex\",\n        VAL: \"666\"\n      }) : ({\n        NAME: \"hex\",\n        VAL: \"7A8288\"\n      });\n  var name = isToggled ? \"pause\" : \"play\";\n  return React.createElement(Core$Button, {\n              label: label,\n              background: background,\n              onClick: onClick,\n              disabled: disabled,\n              children: React.createElement(Core$Icon, {\n                    name: name\n                  })\n            });\n}\n\nvar ToggleButton = {\n  make: Core$ToggleButton\n};\n\nexport {\n  Root ,\n  Header ,\n  Wrapper ,\n  Icon ,\n  Button ,\n  ToggleButton ,\n  \n}\n/* styles Not a pure module */\n","\n\nimport * as CssJs from \"bs-css-emotion/src/CssJs.bs.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\n\nfunction styles(background, param) {\n  return CssJs.style([\n              CssJs.label(\"Wrapper\"),\n              CssJs.width({\n                    NAME: \"pxFloat\",\n                    VAL: 10\n                  }),\n              CssJs.height({\n                    NAME: \"pxFloat\",\n                    VAL: 10\n                  }),\n              CssJs.background(background),\n              CssJs.unsafe(\"borderRadius\", \"40%\"),\n              CssJs.margin2({\n                    NAME: \"pxFloat\",\n                    VAL: 2\n                  }, {\n                    NAME: \"pxFloat\",\n                    VAL: 1\n                  }),\n              CssJs.padding(\"zero\"),\n              CssJs.unsafe(\"transitionProperty\", \"\\\"all\\\"\"),\n              CssJs.unsafe(\"transitionDuration\", \".1s\"),\n              CssJs.unsafe(\"transitionTimingFunction\", \"ease-in-out\"),\n              CssJs.unsafe(\"cursor\", \"pointer\")\n            ]);\n}\n\nfunction make(props) {\n  var stylesObject = {\n    className: styles(props.background, undefined)\n  };\n  var newProps = Object.assign(stylesObject, props);\n  return React.createElement(\"div\", newProps);\n}\n\nvar Wrapper = {\n  styles: styles,\n  make: make\n};\n\nfunction Tile(Props) {\n  var isAlive = Props.isAlive;\n  var onToggle = Props.onToggle;\n  var background = isAlive ? ({\n        NAME: \"hex\",\n        VAL: \"272B30\"\n      }) : ({\n        NAME: \"hex\",\n        VAL: \"FFF\"\n      });\n  var handleMouseEvent = React.useCallback((function (callback) {\n          return function (e) {\n            if (e.nativeEvent.which === 1) {\n              return Curry._1(callback, undefined);\n            }\n            \n          };\n        }), []);\n  return React.createElement(make, {\n              onMouseDown: Curry._1(handleMouseEvent, onToggle),\n              onMouseOver: Curry._1(handleMouseEvent, onToggle),\n              background: background\n            });\n}\n\nvar make$1 = Tile;\n\nexport {\n  Wrapper ,\n  make$1 as make,\n  \n}\n/* CssJs Not a pure module */\n","\n\nimport * as CssJs from \"bs-css-emotion/src/CssJs.bs.js\";\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Tile$MyRescriptApp from \"./Tile.bs.js\";\n\nvar styles = CssJs.style([\n      CssJs.label(\"Wrapper\"),\n      CssJs.display(\"flex\"),\n      CssJs.border({\n            NAME: \"rem\",\n            VAL: 0.25\n          }, \"solid\", {\n            NAME: \"hex\",\n            VAL: \"222\"\n          }),\n      CssJs.unsafe(\"borderRadius\", \"0.75rem\"),\n      CssJs.padding({\n            NAME: \"rem\",\n            VAL: 0.125\n          })\n    ]);\n\nfunction make(props) {\n  var stylesObject = {\n    className: styles\n  };\n  var newProps = Object.assign(stylesObject, props);\n  return React.createElement(\"div\", newProps);\n}\n\nvar Wrapper = {\n  styles: styles,\n  make: make\n};\n\nfunction Grid(Props) {\n  var data = Props.data;\n  var onToggle = Props.onToggle;\n  var renderTile = React.useCallback((function (y) {\n          return function (x, cellState) {\n            var key = \"\" + x + \"-\" + y;\n            return React.createElement(Tile$MyRescriptApp.make, {\n                        isAlive: cellState === /* Alive */1,\n                        onToggle: (function (param) {\n                            return Curry._2(onToggle, y, x);\n                          }),\n                        key: key\n                      });\n          };\n        }), []);\n  var renderRow = React.useCallback((function (y) {\n          return function (row) {\n            return React.createElement(\"div\", {\n                        key: String(y)\n                      }, Belt_Array.mapWithIndex(row, Curry._1(renderTile, y)));\n          };\n        }), []);\n  return React.createElement(make, {\n              children: Belt_Array.mapWithIndex(data, renderRow)\n            });\n}\n\nvar R;\n\nvar A;\n\nvar make$1 = Grid;\n\nexport {\n  R ,\n  A ,\n  Wrapper ,\n  make$1 as make,\n  \n}\n/* styles Not a pure module */\n","\n\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as Random from \"bs-platform/lib/es6/random.js\";\nimport * as Caml_obj from \"bs-platform/lib/es6/caml_obj.js\";\nimport * as Belt_List from \"bs-platform/lib/es6/belt_List.js\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Caml_array from \"bs-platform/lib/es6/caml_array.js\";\n\nfunction safeIndex(x) {\n  var i = x[1];\n  var length = x[0];\n  if (i < 0) {\n    return length - 1 | 0;\n  } else if (i === length) {\n    return 0;\n  } else {\n    return i;\n  }\n}\n\nfunction safePoint(param, length) {\n  return [\n          safeIndex([\n                length,\n                param[0]\n              ]),\n          safeIndex([\n                length,\n                param[1]\n              ])\n        ];\n}\n\nfunction mapGrid(fn, grid) {\n  return Belt_Array.mapWithIndex(grid, (function (y, row) {\n                return Belt_Array.mapWithIndex(row, (function (x, tile) {\n                              return Curry._3(fn, [\n                                          y,\n                                          x\n                                        ], tile, grid);\n                            }));\n              }));\n}\n\nfunction makeBlankGrid(size$prime) {\n  return Belt_Array.make(size$prime, Belt_Array.make(size$prime, /* Dead */0));\n}\n\nfunction makeRandomGrid(size, seed) {\n  Random.init(seed);\n  return mapGrid((function (param, param$1, param$2) {\n                if (Random.$$int(10) > 7) {\n                  return /* Alive */1;\n                } else {\n                  return /* Dead */0;\n                }\n              }), makeBlankGrid(size));\n}\n\nfunction getTile(grid, point) {\n  var match = safePoint(point, grid.length);\n  return Caml_array.get(Caml_array.get(grid, match[0]), match[1]);\n}\n\nvar offset = {\n  hd: -1,\n  tl: {\n    hd: 0,\n    tl: {\n      hd: 1,\n      tl: /* [] */0\n    }\n  }\n};\n\nfunction getNeighbours(grid, param) {\n  var x = param[1];\n  var y = param[0];\n  return Belt_List.map(Belt_List.keep(Belt_List.flatten(Belt_List.map(offset, (function (y$prime) {\n                            return Belt_List.map(offset, (function (x$prime) {\n                                          return [\n                                                  y + y$prime | 0,\n                                                  x + x$prime | 0\n                                                ];\n                                        }));\n                          }))), (function (p) {\n                    return Caml_obj.caml_notequal(p, [\n                                y,\n                                x\n                              ]);\n                  })), (function (param) {\n                return getTile(grid, param);\n              }));\n}\n\nfunction countLivingNeighbours(grid, point) {\n  return Belt_List.length(Belt_List.keep(getNeighbours(grid, point), (function (c) {\n                    return c === /* Alive */1;\n                  })));\n}\n\nfunction nextState(point, cellState, grid) {\n  var neighbours = countLivingNeighbours(grid, point);\n  if (cellState) {\n    if (neighbours === 3 || neighbours === 2) {\n      return /* Alive */1;\n    } else {\n      return /* Dead */0;\n    }\n  } else if (neighbours !== 3) {\n    return /* Dead */0;\n  } else {\n    return /* Alive */1;\n  }\n}\n\nfunction nextGeneration(param) {\n  return mapGrid(nextState, param);\n}\n\nfunction toggleTile(grid, point) {\n  var grid$prime = Belt_Array.map(grid, (function (prim) {\n          return prim.slice(0);\n        }));\n  var match = safePoint(point, grid.length);\n  var x = match[1];\n  var y = match[0];\n  var tile = Caml_array.get(Caml_array.get(grid$prime, y), x);\n  Caml_array.set(Caml_array.get(grid$prime, y), x, tile ? /* Dead */0 : /* Alive */1);\n  return grid$prime;\n}\n\nvar L;\n\nvar A;\n\nexport {\n  L ,\n  A ,\n  safeIndex ,\n  safePoint ,\n  mapGrid ,\n  makeBlankGrid ,\n  makeRandomGrid ,\n  getTile ,\n  offset ,\n  getNeighbours ,\n  countLivingNeighbours ,\n  nextState ,\n  nextGeneration ,\n  toggleTile ,\n  \n}\n/* No side effect */\n","\n\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Caml_array from \"bs-platform/lib/es6/caml_array.js\";\nimport * as Game$MyRescriptApp from \"./Game.bs.js\";\nimport * as Util$MyRescriptApp from \"./Util.bs.js\";\nimport * as Config$MyRescriptApp from \"./Config.bs.js\";\n\nfunction makeSeed(param) {\n  return Date.now() | 0;\n}\n\nvar initialState_grid = Game$MyRescriptApp.makeRandomGrid(Config$MyRescriptApp.boardSize, Date.now() | 0);\n\nvar initialState_animationFrameId = {\n  contents: 0\n};\n\nvar initialState_savedGrids = [];\n\nvar initialState = {\n  grid: initialState_grid,\n  isPlaying: false,\n  ticks: 0,\n  animationFrameId: initialState_animationFrameId,\n  startedAt: undefined,\n  frameRate: 0,\n  savedGrids: initialState_savedGrids\n};\n\nfunction grid(self, action, state) {\n  if (typeof action === \"number\") {\n    switch (action) {\n      case /* Random */0 :\n          return Game$MyRescriptApp.makeRandomGrid(Config$MyRescriptApp.boardSize, Date.now() | 0);\n      case /* Reset */1 :\n          return Game$MyRescriptApp.makeBlankGrid(Config$MyRescriptApp.boardSize);\n      case /* Tick */4 :\n          return Game$MyRescriptApp.nextGeneration(self);\n      default:\n        return self;\n    }\n  } else {\n    switch (action.TAG | 0) {\n      case /* Toggle */0 :\n          return Game$MyRescriptApp.toggleTile(self, action._0);\n      case /* Load */2 :\n          return Caml_array.get(state.savedGrids, action._0);\n      default:\n        return self;\n    }\n  }\n}\n\nfunction savedGrids(self, action, _state) {\n  if (typeof action === \"number\" || action.TAG !== /* Save */1) {\n    return self;\n  } else {\n    return Belt_Array.concat(self, [action._0]);\n  }\n}\n\nfunction isPlaying(self, action, _state) {\n  if (typeof action !== \"number\") {\n    return self;\n  }\n  if (action < 2) {\n    return self;\n  }\n  switch (action - 2 | 0) {\n    case /* Random */0 :\n        return true;\n    case /* Reset */1 :\n        return false;\n    case /* Start */2 :\n        return self;\n    \n  }\n}\n\nfunction startedAt(self, action, _state) {\n  if (typeof action !== \"number\") {\n    return self;\n  }\n  if (action < 2) {\n    return self;\n  }\n  switch (action - 2 | 0) {\n    case /* Random */0 :\n        return Date.now();\n    case /* Reset */1 :\n        return ;\n    case /* Start */2 :\n        return self;\n    \n  }\n}\n\nfunction ticks(self, action, state) {\n  var match = state.isPlaying;\n  if (typeof action !== \"number\") {\n    return self;\n  }\n  switch (action) {\n    case /* Random */0 :\n    case /* Start */2 :\n        return self;\n    case /* Reset */1 :\n    case /* Stop */3 :\n        return 0;\n    case /* Tick */4 :\n        if (match) {\n          return self + 1 | 0;\n        } else {\n          return self;\n        }\n    \n  }\n}\n\nfunction frameRate(self, action, state) {\n  var match = state.startedAt;\n  if (typeof action === \"number\") {\n    if (action !== 3) {\n      if (action >= 4 && match !== undefined) {\n        return Util$MyRescriptApp.avgFrameRate(state.ticks, match);\n      } else {\n        return self;\n      }\n    } else {\n      return 0;\n    }\n  } else {\n    return self;\n  }\n}\n\nfunction root(state, action) {\n  return {\n          grid: grid(state.grid, action, state),\n          isPlaying: isPlaying(state.isPlaying, action, state),\n          ticks: ticks(state.ticks, action, state),\n          animationFrameId: state.animationFrameId,\n          startedAt: startedAt(state.startedAt, action, state),\n          frameRate: frameRate(state.frameRate, action, state),\n          savedGrids: savedGrids(state.savedGrids, action, state)\n        };\n}\n\nvar Reducers = {\n  grid: grid,\n  savedGrids: savedGrids,\n  isPlaying: isPlaying,\n  startedAt: startedAt,\n  ticks: ticks,\n  frameRate: frameRate,\n  root: root\n};\n\nexport {\n  makeSeed ,\n  initialState ,\n  Reducers ,\n  \n}\n/* initialState Not a pure module */\n","\n\n\nvar boardSize = 32;\n\nvar tileSize = {\n  NAME: \"rem\",\n  VAL: 0.75\n};\n\nexport {\n  boardSize ,\n  tileSize ,\n  \n}\n/* No side effect */\n","\n\nimport * as Js_math from \"bs-platform/lib/es6/js_math.js\";\n\nfunction avgFrameRate(ticks, startedAt) {\n  return Js_math.ceil(ticks / ((Date.now() - startedAt) / 1000));\n}\n\nexport {\n  avgFrameRate ,\n  \n}\n/* No side effect */\n","\n\nimport * as React from \"react\";\nimport * as Core$MyRescriptApp from \"./Core.bs.js\";\n\nfunction Controls(Props) {\n  var isPlaying = Props.isPlaying;\n  var onReset = Props.onReset;\n  var onRandom = Props.onRandom;\n  var onTick = Props.onTick;\n  var onToggleAutoplay = Props.onToggleAutoplay;\n  var onSaveGrid = Props.onSaveGrid;\n  return React.createElement(Core$MyRescriptApp.Wrapper.make, {\n              children: React.createElement(\"div\", {\n                    role: \"group\"\n                  }, React.createElement(Core$MyRescriptApp.Button.make, {\n                        label: \"Reset grid\",\n                        background: {\n                          NAME: \"hex\",\n                          VAL: \"AE2012\"\n                        },\n                        onClick: onReset,\n                        children: React.createElement(Core$MyRescriptApp.Icon.make, {\n                              name: \"undo\"\n                            })\n                      }), React.createElement(Core$MyRescriptApp.Button.make, {\n                        label: \"Random grid\",\n                        background: {\n                          NAME: \"hex\",\n                          VAL: \"001219\"\n                        },\n                        onClick: onRandom,\n                        children: React.createElement(Core$MyRescriptApp.Icon.make, {\n                              name: \"random\"\n                            })\n                      }), React.createElement(Core$MyRescriptApp.Button.make, {\n                        label: \"Next state\",\n                        background: {\n                          NAME: \"hex\",\n                          VAL: \"005F73\"\n                        },\n                        onClick: onTick,\n                        disabled: isPlaying,\n                        children: React.createElement(Core$MyRescriptApp.Icon.make, {\n                              name: \"forward\"\n                            })\n                      }), React.createElement(Core$MyRescriptApp.ToggleButton.make, {\n                        isToggled: isPlaying,\n                        onClick: onToggleAutoplay,\n                        label: \"Toggle autpplay\"\n                      }), React.createElement(Core$MyRescriptApp.Button.make, {\n                        label: \"Save\",\n                        background: {\n                          NAME: \"hex\",\n                          VAL: \"0A9396\"\n                        },\n                        onClick: onSaveGrid,\n                        disabled: isPlaying,\n                        children: React.createElement(Core$MyRescriptApp.Icon.make, {\n                              name: \"save\"\n                            })\n                      }))\n            });\n}\n\nvar make = Controls;\n\nexport {\n  make ,\n  \n}\n/* react Not a pure module */\n","\n\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Belt_Array from \"bs-platform/lib/es6/belt_Array.js\";\nimport * as Core$MyRescriptApp from \"./Core.bs.js\";\n\nfunction SavedGrids(Props) {\n  var grids = Props.grids;\n  var onClick = Props.onClick;\n  var renderGridButton = React.useCallback((function (index) {\n          return function (_grid) {\n            return React.createElement(Core$MyRescriptApp.Button.make, {\n                        label: \"Save\",\n                        background: {\n                          NAME: \"hex\",\n                          VAL: \"94D2BD\"\n                        },\n                        onClick: (function (param) {\n                            return Curry._1(onClick, index);\n                          }),\n                        children: React.createElement(\"span\", undefined, String(index + 1 | 0)),\n                        key: String(index)\n                      });\n          };\n        }), []);\n  return React.createElement(Core$MyRescriptApp.Wrapper.make, {\n              children: Belt_Array.mapWithIndex(grids, renderGridButton)\n            });\n}\n\nvar make = SavedGrids;\n\nexport {\n  make ,\n  \n}\n/* react Not a pure module */\n","\n\nimport * as Curry from \"bs-platform/lib/es6/curry.js\";\nimport * as React from \"react\";\nimport * as Core$MyRescriptApp from \"./Core.bs.js\";\nimport * as Grid$MyRescriptApp from \"./Grid.bs.js\";\nimport * as Model$MyRescriptApp from \"../lib/Model.bs.js\";\nimport * as Controls$MyRescriptApp from \"./Controls.bs.js\";\nimport * as SavedGrids$MyRescriptApp from \"./SavedGrids.bs.js\";\n\nfunction App(Props) {\n  var match = React.useReducer(Model$MyRescriptApp.Reducers.root, Model$MyRescriptApp.initialState);\n  var dispatch = match[1];\n  var state = match[0];\n  var handleToggleTile = React.useCallback((function (y) {\n          return function (x) {\n            return Curry._1(dispatch, {\n                        TAG: /* Toggle */0,\n                        _0: [\n                          y,\n                          x\n                        ]\n                      });\n          };\n        }), []);\n  var handleReset = React.useCallback((function (param) {\n          return Curry._1(dispatch, /* Reset */1);\n        }), []);\n  var handleRandom = React.useCallback((function (param) {\n          return Curry._1(dispatch, /* Random */0);\n        }), []);\n  var handleTick = React.useCallback((function (param) {\n          return Curry._1(dispatch, /* Tick */4);\n        }), []);\n  var handleSaveGrid = React.useCallback((function (param) {\n          return Curry._1(dispatch, {\n                      TAG: /* Save */1,\n                      _0: state.grid\n                    });\n        }), [state.grid]);\n  var handleLoadGrid = React.useCallback((function (key) {\n          return Curry._1(dispatch, {\n                      TAG: /* Load */2,\n                      _0: key\n                    });\n        }), []);\n  var handleToggleAutoPlay = React.useCallback((function (param) {\n          var play = function (param) {\n            state.animationFrameId.contents = requestAnimationFrame(play);\n            return Curry._1(dispatch, /* Tick */4);\n          };\n          if (state.isPlaying) {\n            cancelAnimationFrame(state.animationFrameId.contents);\n            return Curry._1(dispatch, /* Stop */3);\n          } else {\n            play(undefined);\n            return Curry._1(dispatch, /* Start */2);\n          }\n        }), [\n        state.animationFrameId,\n        state.isPlaying\n      ]);\n  return React.createElement(Core$MyRescriptApp.Root.make, {\n              children: null\n            }, React.createElement(Core$MyRescriptApp.Header.make, {\n                  children: \"Conway's Game of Life\"\n                }), React.createElement(Controls$MyRescriptApp.make, {\n                  isPlaying: state.isPlaying,\n                  onReset: handleReset,\n                  onRandom: handleRandom,\n                  onTick: handleTick,\n                  onToggleAutoplay: handleToggleAutoPlay,\n                  onSaveGrid: handleSaveGrid\n                }), React.createElement(Grid$MyRescriptApp.make, {\n                  data: state.grid,\n                  onToggle: handleToggleTile\n                }), React.createElement(SavedGrids$MyRescriptApp.make, {\n                  grids: state.savedGrids,\n                  onClick: handleLoadGrid\n                }));\n}\n\nvar R;\n\nvar make = App;\n\nexport {\n  R ,\n  make ,\n  \n}\n/* react Not a pure module */\n","\n\nimport * as React from \"react\";\nimport * as ReactDom from \"react-dom\";\nimport * as App$MyRescriptApp from \"./components/App.bs.js\";\n\nimport './Index.css';\n;\n\nvar fallback = React.createElement(\"div\", undefined, \"...\");\n\nvar app = React.createElement(React.Suspense, {\n      children: React.createElement(App$MyRescriptApp.make, {\n            key: \"app\"\n          }),\n      fallback: fallback\n    });\n\nvar root = document.querySelector(\"#root\");\n\nif (!(root == null)) {\n  ReactDom.render(app, root);\n}\n\nexport {\n  fallback ,\n  app ,\n  \n}\n/*  Not a pure module */\n"],"sourceRoot":""}